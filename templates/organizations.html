{% load static %}
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Galeri - Lavinya{% endblock %}</title>
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

</head>
<body>

  <div class="top-bar">
    <div class="top-bar-left">
      <span><i class="fas fa-envelope"></i> lavinyarezervasyon@gmail.com</span>
      <span><i class="fas fa-phone-alt"></i> +90 555 043 82 43</span>
      <span><i class="fas fa-map-marker-alt"></i> Yeşilköy, Simav/Kütahya</span>
    </div>
    <div class="top-bar-right">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="https://www.instagram.com/lavinyagardenrestaurant?igsh=MXhuZGpobzVlN2t6Nw==" target="_blank" rel="noopener noreferrer">
  <i class="fab fa-instagram"></i>
</a>
      <a href="#"><i class="fab fa-youtube"></i></a>
    </div>
  </div>

<header>
  <div class="logo">
    <a href="{% url 'index' %}" class="logo-link">
      <img src="{% static 'images/logo.png' %}" alt="Logo" class="logo-img" />
    </a>

    <div class="mobile-title">
        <span class="line1">Lavinya Garden Restaurant</span>
        <span class="line2">& Wedding Area</span>
      </div>
</div>
  <nav id="nav-menu">
    <a href="{% url 'index' %}">Anasayfa</a>
    <a href="{% url 'index' %}#hakkimizda" class="nav-about">Hakkımızda</a>
    <a href="{% url 'menu' %}">Restaurant</a>
    <a href="{% url 'cafe' %}">Cafe</a>
      <div class="nav-item organizations-dropdown">
    <a href="{% url 'organizations' %}" class="organizations-dropdown-toggle">
      Organizasyonlar <i class="fas fa-chevron-down"></i>
    </a>
    <div class="organizations-dropdown-menu">
      <a href="#">Düğün & Nişan</a>
      <a href="#">Kurumsal Etkinlikler</a>
      <a href="#">Özel Yemek Davetleri</a>
    </div>
  </div>
    <a href="{% url 'gallery' %}">Galeri</a>
    <a href="{% url 'reservation' %}">Rezervasyon</a>
    <a href="{% url 'contact' %}">Iletisim</a>
  </nav>

  <div class="hamburger" id="hamburger-btn" aria-label="Menüyü aç/kapat" aria-expanded="false" role="button" tabindex="0">
    <div></div>
    <div></div>
    <div></div>
  </div>
</header>

<div id="loading-spinner">
  <div class="spinner"></div>
</div>

<script>
  window.addEventListener('load', function() {
    const spinner = document.getElementById('loading-spinner');
    if (spinner) {
      spinner.style.display = 'none';
    }
  });
</script>


<!-- ===================== ORGANİZASYONLAR ===================== -->
<section class="organizations-section" id="organizasyonlar">
  <h2 class="org-heading">Organizasyonlarımız, seçiminize tıklayın fiyatları görün</h2>
  <div class="org-cards">
    <article class="org-card" data-type="dugun"> <!-- Düğün -->
      <div class="org-icon"></div>
      <h3>Düğün</h3>
      <p>Doğayla iç içe masalsı bir atmosferde, size özel tasarlanmış unutulmaz düğünler.</p>
    </article>
    <article class="org-card" data-type="nisan"> <!-- Nişan -->
      <div class="org-icon"></div>
      <h3>Nişan</h3>
      <p>Samimi dekorasyon ve özenli servisle nişan gününüzü kusursuz hale getiriyoruz.</p>
    </article>
    <!-- Diğer kartlar aynı şekilde devam eder... -->
  </div>
</section>

<!-- Fiyat Seçenekleri ve Özet -->
<div id="order-wrapper-area"></div>
<!-- =========================================================== -->

<script>
  const orderForms = {
    dugun: `
      <div class="order-wrapper orderform">
        <form id="order-form" class="order-left">
          <h3>Düğün Organizasyonu</h3>

          <!-- Tarih -->
          <label>
            Tarih Seçiniz:
            <input type="date" id="wedding-date" name="wedding_date" required>
            <small>(Dolu tarihler devre dışı olacak - placeholder)</small>
          </label><br>

          <!-- Sabit Hizmetler -->
          <label><input type="checkbox" name="venue" data-price="10000"> Salon Ücreti (₺10.000)</label><br>
          <label><input type="checkbox" name="musician" data-price="3000"> Müzisyen / Şantör (₺3.000)</label><br>
          <label><input type="checkbox" name="photographer" data-price="2000"> Fotoğrafçı (₺2.000)</label><br>
          <label><input type="checkbox" name="qr_share" data-price="500"> QR Kodla Fotoğraf Paylaşımı (₺500)</label><br>
          <label><input type="checkbox" name="kina" data-price="2500"> Kına Konsepti (₺2.500)</label><br>
          <label><input type="checkbox" name="dugun_konsept" data-price="4000"> Düğün Konsepti (₺4.000)</label><br>

          <!-- İkram -->
          <fieldset>
            <legend>İkram Seçenekleri (kişi başı)</legend>
            <label><input type="checkbox" name="ikram1" data-price="50"> Yaş Pasta</label><br>
            <label><input type="checkbox" name="ikram2" data-price="30"> Kuru Pasta</label><br>
            <label><input type="checkbox" name="ikram3" data-price="20"> Çerez</label><br>
            <label><input type="checkbox" name="ikram4" data-price="10"> Meşrubat</label><br>
            <label><input type="checkbox" name="ikram5" data-price="5"> Çay</label><br>
          </fieldset>

          <!-- Yemek -->
          <fieldset>
            <legend>Yemek Seçimi (kişi başı)</legend>
            <label><input type="checkbox" name="yemek" data-price="200"> Ana Yemek + Tatlı + İçecek</label><br>
          </fieldset>

          <!-- Ekstra -->
          <label><input type="checkbox" name="araba_susleme" data-price="750"> Araba Süsleme (₺750)</label><br>
          <label><input type="checkbox" name="vip_arac" data-price="1500"> Gün Boyu Şoförlü VIP Araç (₺1.500)</label><br>

          <!-- Kişi Sayısı -->
          <label>
            Kişi Sayısı:
            <input type="number" id="guest-count" name="guest_count" value="100" min="1" data-unit-price="0">
            <small>(ikram/yemek kişi başı hesaplanır)</small>
          </label>
        </form>

        <div class="order-summary">
          <h4>Toplam Fiyat Özeti</h4>
          <ul id="summary-list"></ul>
          <strong>Toplam: ₺<span id="total-price">0</span></strong>
        </div>
      </div>
    `,

    nisan: `
      <div class="order-wrapper orderform">
        <form id="order-form" class="order-left">
          <h3>Nişan Organizasyonu</h3>
          <label><input type="checkbox" name="musician" data-price="2000"> Müzisyen (₺2.000)</label><br>
          <label>
            Kişi Sayısı:
            <input type="number" id="guest-count" name="guest_count" value="50" min="1" data-unit-price="100">
            <small>(₺100 / kişi)</small>
          </label>
        </form>
        <div class="order-summary">
          <h4>Toplam Fiyat Özeti</h4>
          <ul id="summary-list"></ul>
          <strong>Toplam: ₺<span id="total-price">0</span></strong>
        </div>
      </div>
    `
    // Diğer organizasyon türleri de benzer şekilde eklenebilir
  };

  // Kartlara tıklanınca formu göster
  document.querySelectorAll('.org-card').forEach(card => {
    card.addEventListener('click', function () {
      const type = this.getAttribute('data-type');
      document.getElementById('order-wrapper-area').innerHTML = orderForms[type] || '';
      attachOrderFormEvents();
      window.scrollTo({ top: document.getElementById('order-wrapper-area').offsetTop - 40, behavior: 'smooth' });
    });
  });

  // Fiyat Hesaplama Fonksiyonu
  function attachOrderFormEvents() {
    const form = document.getElementById('order-form');
    if (!form) return;
    function updateSummary() {
      let total = 0;
      let summary = [];

      // Checkbox'lar
      form.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        if (cb.checked) {
          let unit = parseInt(cb.getAttribute('data-price')) || 0;
          let perPerson = cb.closest('fieldset') ? true : false;
          let guestCount = parseInt(document.getElementById('guest-count')?.value || 1);
          let price = perPerson ? unit * guestCount : unit;
          total += price;
          summary.push(`<li>${cb.parentNode.textContent.trim()} +₺${price.toLocaleString('tr-TR')}</li>`);
        }
      });

      // Özet güncelle
      document.getElementById('summary-list').innerHTML = summary.join('');
      document.getElementById('total-price').textContent = total.toLocaleString('tr-TR');
    }

    form.addEventListener('input', updateSummary);
    updateSummary();
  }
</script>


<footer class="modern-footer">
  <div class="footer-wrapper">
    
    <!-- İLETİŞİM -->
<div class="footer-col">
  <h4>İletişim</h4>
  <p><i class="fas fa-map-marker-alt"></i> Yeşilköy, Simav / Kütahya</p>
  <p>
    <i class="fas fa-envelope"></i>
    <a href="mailto:lavinyarezervasyon@gmail.com">lavinyarezervasyon@gmail.com</a>
  </p>
  <p>
    <i class="fas fa-phone-alt"></i>
    <a href="tel:+905550438243">+90 555 043 82 43</a>
  </p>
</div>

    <!-- MENÜ -->
    <div class="footer-col">
      <h4>Hızlı Erişim</h4>
      <ul>
        <li><a href="{% url 'index' %}">Anasayfa</a></li>
        <li><a href="{% url 'index' %}#hakkimizda" class="nav-about">Hakkımızda</a></li>
        <li><a href="{% url 'menu' %}">Menü</a></li>
        <li><a href="{% url 'cafe' %}">Cafe</a></li>
        <li><a href="{% url 'organizations' %}">Organizasyonlar</a></li>
        <li><a href="{% url 'gallery' %}">Galeri</a></li>
        <li><a href="{% url 'reservation' %}">Rezervasyon</a></li>
        <li><a href="{% url 'contact' %}">Iletisim</a></li>
      </ul>
    </div>

    <!-- SOSYAL MEDYA -->
    <div class="footer-col">
      <h4>Sosyal Medya</h4>
      <div class="footer-social">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="https://www.instagram.com/lavinyagardenrestaurant/" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
    </div>

    <!-- HARİTA -->
    <div class="footer-col">
      <h4>Konum</h4>
      <div class="map-frame">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3021.208382197883!2d28.997406!3d39.0686333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14c83fdc68bb30ab%3A0x9c4cab9dd2764e45!2sYe%C5%9Filk%C3%B6y%2FSimav%2FK%C3%BCtahya!5e0!3m2!1str!2str!4v1710000000000" 
          width="100%" height="160" style="border:0; border-radius: 8px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>

  </div>
<div class="footer-bottom">
  <span>© 2025 Lavinya Garden Restaurant | Tüm Hakları Saklıdır.</span>
  <span class="designer-credit">Designed by Bahadır Yasin Çetinsoy</span>
</div>
</footer>




<a 
  href="https://web.whatsapp.com/send?phone=8503070043&text=Merhaba%20Lavinya%20Restaurant%21%0ARezervasyon%20yapmak%20istiyorum."
  target="_blank" 
  id="whatsapp-float" 
  rel="noopener noreferrer"
  aria-label="WhatsApp ile iletişime geç"
>
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
</a>

<style>
  #whatsapp-float {
    position: fixed;
    width: 60px;
    height: 60px;
    bottom: 20px;
    right: 20px;
    background-color: #25D366;
    border-radius: 50%;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  #whatsapp-float img {
    width: 35px;
    height: 35px;
  }

  #whatsapp-float:hover {
    background-color: #1ebe57;
  }
</style>



<script>
document.addEventListener('DOMContentLoaded', () => {
  const orgCards = document.querySelectorAll('.org-card');

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.3 });

  orgCards.forEach(card => observer.observe(card));
});
</script>


<script>
  const hamburger = document.getElementById('hamburger-btn');
  const navMenu = document.getElementById('nav-menu');

  hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navMenu.classList.toggle('open');
    const expanded = hamburger.getAttribute('aria-expanded') === 'true';
    hamburger.setAttribute('aria-expanded', !expanded);
  });

  hamburger.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      hamburger.click();
    }
  });
</script>

<script>
  const header = document.querySelector('header');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      header.classList.add('shrink');
    } else {
      header.classList.remove('shrink');
    }
  });
</script>


</body>
</html>
